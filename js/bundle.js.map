{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;AAAA,MAAMA,uBAAuB,GAAG,4CAAhC;AACA,MAAMC,uBAAuB,GAAG,6CAAhC;AACA,MAAMC,eAAe,GAAG,GAAxB,EAEA;AAEA;AACA;AAEA;AACA;;AAEA,MAAMC,cAAc,GAAG,UAACC,IAAD;AAAA,MAAOC,KAAP,uEAAeH,eAAf;AAAA,SAAmCI,KAAK,CAAE,GAAEN,uBAAwB,GAAEK,KAAM,IAAGD,IAAK,eAA5C,EAA4D;AACvHG,IAAAA,MAAM,EAAE;AAD+G,GAA5D,CAAL,CAGvDC,IAHuD,CAGjDC,QAAD,IAAc;AAClB,QAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,UAAM,IAAIC,KAAJ,CAAW,GAAEH,QAAQ,CAACI,MAAO,IAAGJ,QAAQ,CAACK,UAAW,EAApD,CAAN;AACH,GARyD,CAAnC;AAAA,CAAvB;;AAUA,MAAMC,cAAc,GAAG;AAAA,MAACV,KAAD,uEAASH,eAAT;AAAA,SAA6BI,KAAK,CAAE,GAAEL,uBAAwB,GAAEI,KAAM,eAApC,EAAoD;AACzGE,IAAAA,MAAM,EAAE;AADiG,GAApD,CAAL,CAGjDC,IAHiD,CAG3CC,QAAD,IAAc;AAClB,QAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,UAAM,IAAIC,KAAJ,CAAW,GAAEH,QAAQ,CAACI,MAAO,IAAGJ,QAAQ,CAACK,UAAW,EAApD,CAAN;AACH,GARmD,CAA7B;AAAA,CAAvB;;;;;;;;;;;;;;;;;ACtBA;AAEA,MAAME,eAAe,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,CAAxB;AACA,MAAMC,cAAc,GAAGF,QAAQ,CAACG,aAAT,CAAuB,oBAAvB,CAAvB;;AAEA,MAAMC,qBAAqB,GAAIC,GAAD,IAAS;AACrC,QAAMC,QAAQ,GAAGD,GAAG,CAAC,CAAD,CAAH,CAAOE,KAAxB;AACA,SAAO,EAAC,GAAGD;AAAJ,GAAP;AACD,CAHD;;AAKA,MAAME,SAAS,GAAG,MAAM;AAEtB,MAAIC,UAAJ;AAEAX,EAAAA,oDAAc,GAAGP,IAAjB,CAAuBmB,IAAD,IAAU;AAC9BC,IAAAA,iBAAiB,CAACP,qBAAqB,CAACM,IAAD,CAAtB,CAAjB;AACAD,IAAAA,UAAU,GAAGL,qBAAqB,CAACM,IAAD,CAAlC;AACD,GAHD,EAGGE,KAHH,CAGUC,GAAD,IAAS;AAChBC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,GALD;;AAOA,QAAMF,iBAAiB,GAAID,IAAD,IAAU;AAClCX,IAAAA,eAAe,CAACiB,OAAhB,CAAwB,CAACC,IAAD,EAAOC,CAAP,KAAa;AAEnC,YAAMC,QAAQ,GAAG,IAAIC,gBAAJ,EAAjB;;AAEA,WAAK,IAAIC,GAAT,IAAgBX,IAAhB,EAAsB;AACpB,cAAMY,YAAY,GAAGpB,cAAc,CAACqB,OAAf,CAAuBC,SAAvB,CAAiC,IAAjC,CAArB;AACAF,QAAAA,YAAY,CAACnB,aAAb,CAA2B,oBAA3B,EAAiDsB,KAAjD,GAAyDf,IAAI,CAACW,GAAD,CAAJ,CAAUlC,IAAnE;AACAmC,QAAAA,YAAY,CAACnB,aAAb,CAA2B,oBAA3B,EAAiDuB,WAAjD,GAA+DhB,IAAI,CAACW,GAAD,CAAJ,CAAUM,QAAzE;AACAL,QAAAA,YAAY,CAACnB,aAAb,CAA2B,oBAA3B,EAAiDyB,YAAjD,CAA8D,SAA9D,EAAyEP,GAAzE;AAEAF,QAAAA,QAAQ,CAACU,MAAT,CAAgBP,YAAhB;AACD;;AAEDL,MAAAA,IAAI,CAACd,aAAL,CAAmB,oBAAnB,EAAyC0B,MAAzC,CAAgDV,QAAhD;AAEAW,MAAAA,oBAAoB,CAACb,IAAD,CAApB;AACD,KAhBD;AAiBD,GAlBD;;AAoBA,MAAIc,UAAJ;AACA,MAAIC,WAAJ;AACA,MAAIC,eAAJ,CAjCsB,CAmCtB;;AAEA,QAAMC,mBAAmB,GAAIC,YAAD,IAAkB;AAE5CrB,IAAAA,OAAO,CAACsB,GAAR,CAAYH,eAAZ;;AAEA,SAAK,IAAIZ,GAAT,IAAgBZ,UAAhB,EAA4B;AAE1B,UAAGA,UAAU,CAACY,GAAD,CAAV,CAAgBlC,IAAhB,KAAyBgD,YAA5B,EAA0C;AAExCrB,QAAAA,OAAO,CAACsB,GAAR,CAAY3B,UAAU,CAACY,GAAD,CAAtB;AAEA,cAAMgB,MAAM,GAAIN,UAAU,GAAGE,eAAe,CAACK,GAA9B,GAAsC7B,UAAU,CAACY,GAAD,CAAV,CAAgBiB,GAArE;AAEA,eAAOD,MAAP;AACD;AACF;AACF,GAfD;;AAiBA,QAAMP,oBAAoB,GAAIb,IAAD,IAAU;AACrCA,IAAAA,IAAI,CAACd,aAAL,CAAmB,mBAAnB,EAAwCoC,gBAAxC,CAAyD,OAAzD,EAAmEC,GAAD,IAAS;AACzET,MAAAA,UAAU,GAAGS,GAAG,CAACC,MAAJ,CAAWhB,KAAxB;AACAO,MAAAA,WAAW,GAAGf,IAAI,CAACd,aAAL,CAAmB,oBAAnB,EAAyCsB,KAAvD;;AAEA,WAAK,IAAIJ,GAAT,IAAgBZ,UAAhB,EAA4B;AAC1B,YAAGA,UAAU,CAACY,GAAD,CAAV,CAAgBlC,IAAhB,KAAyB6C,WAA5B,EAAyC;AACvCC,UAAAA,eAAe,GAAGxB,UAAU,CAACY,GAAD,CAA5B;AACD;AACF;;AAEDqB,MAAAA,QAAQ;AACT,KAXD;;AAaA,UAAMA,QAAQ,GAAG,MAAM;AACrB3C,MAAAA,eAAe,CAACiB,OAAhB,CAAyB2B,WAAD,IAAiB;AACvC,YAAGA,WAAW,KAAK1B,IAAnB,EAAyB;AACvB0B,UAAAA,WAAW,CAACxC,aAAZ,CAA0B,mBAA1B,EAA+CsB,KAA/C,GAAuD,CAACM,UAAxD;AACD,SAFD,MAEO;AACLY,UAAAA,WAAW,CAACxC,aAAZ,CAA0B,mBAA1B,EAA+CsB,KAA/C,GAAuDS,mBAAmB,CAACS,WAAW,CAACxC,aAAZ,CAA0B,oBAA1B,EAAgDsB,KAAjD,CAA1E;AACAS,UAAAA,mBAAmB,CAACS,WAAW,CAACxC,aAAZ,CAA0B,oBAA1B,EAAgDsB,KAAjD,CAAnB;AACD;AACF,OAPD;AAQD,KATD;AAUD,GAxBD;AA0BD,CAhFD;;;;;;;;;;;;;;;;;ACVA;AAEA,MAAMmB,gBAAgB,GAAG5C,QAAQ,CAACC,gBAAT,CAA0B,iBAA1B,CAAzB;;AAEA,MAAMG,qBAAqB,GAAIC,GAAD,IAAS;AACrC,QAAMwC,GAAG,GAAGxC,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAauC,GAAzB;AACA,QAAMC,IAAI,GAAG1C,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAa+B,GAA1B;AACA,QAAMnD,IAAI,GAAGkB,GAAG,CAAClB,IAAjB;AACA,QAAM6D,IAAI,GAAG3C,GAAG,CAACsB,QAAjB;AACA,SAAO;AAACkB,IAAAA,GAAD;AAAME,IAAAA,IAAN;AAAY5D,IAAAA,IAAZ;AAAkB6D,IAAAA;AAAlB,GAAP;AACD,CAND;;AAQA,MAAMC,WAAW,GAAG,MAAM;AAExBL,EAAAA,gBAAgB,CAAC5B,OAAjB,CAA0BC,IAAD,IAAU;AACjC,UAAMkB,YAAY,GAAGlB,IAAI,CAACiC,YAAL,CAAkB,oBAAlB,CAArB;AAEAhE,IAAAA,oDAAc,CAACiD,YAAD,CAAd,CAA6B5C,IAA7B,CAAmCmB,IAAD,IAAU;AAC1CyC,MAAAA,eAAe,CAACzC,IAAD,EAAOO,IAAP,CAAf;AACD,KAFD,EAEGL,KAFH,CAEUC,GAAD,IAAS;AAChBuC,MAAAA,iBAAiB,CAACvC,GAAD,EAAMI,IAAN,CAAjB;AACAH,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,KALD;AAOA3B,IAAAA,oDAAc,CAACiD,YAAD,EAAe,GAAf,CAAd,CAAkC5C,IAAlC,CAAwCmB,IAAD,IAAU;AAC/C2C,MAAAA,qBAAqB,CAAC3C,IAAD,EAAOO,IAAP,CAArB;AACD,KAFD,EAEGL,KAFH,CAEUC,GAAD,IAAS;AAChBuC,MAAAA,iBAAiB,CAACvC,GAAD,EAAMI,IAAN,CAAjB;AACAH,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,KALD;AAMD,GAhBD;;AAkBA,QAAMwC,qBAAqB,GAAG,CAAC3C,IAAD,EAAOO,IAAP,KAAgB;AAC5CA,IAAAA,IAAI,CAACd,aAAL,CAAmB,yBAAnB,EAA8CuB,WAA9C,GAA4DhB,IAAI,CAACH,KAAL,CAAW,CAAX,EAAc+C,GAA1E;AACD,GAFD;;AAIA,QAAMH,eAAe,GAAG,CAACzC,IAAD,EAAOO,IAAP,KAAgB;AACtC,UAAM;AAAC8B,MAAAA,IAAD;AAAOF,MAAAA,GAAP;AAAY1D,MAAAA,IAAZ;AAAkB6D,MAAAA;AAAlB,QAA0B5C,qBAAqB,CAACM,IAAD,CAArD;AACAO,IAAAA,IAAI,CAACd,aAAL,CAAmB,wBAAnB,EAA6CuB,WAA7C,GAA2DqB,IAA3D;AACA9B,IAAAA,IAAI,CAACd,aAAL,CAAmB,uBAAnB,EAA4CuB,WAA5C,GAA0DmB,GAA1D;AACA5B,IAAAA,IAAI,CAACd,aAAL,CAAmB,0BAAnB,EAA+CuB,WAA/C,GAA6DvC,IAA7D;AACA8B,IAAAA,IAAI,CAACd,aAAL,CAAmB,iBAAnB,EAAsCuB,WAAtC,GAAoDsB,IAApD;AACD,GAND;;AAQA,QAAMI,iBAAiB,GAAG,CAACrC,KAAD,EAAQE,IAAR,KAAiB;AACzCA,IAAAA,IAAI,CAAChB,gBAAL,CAAsB,kBAAtB,EAA0Ce,OAA1C,CAAmDC,IAAD,IAAU;AAC1DA,MAAAA,IAAI,CAACsC,SAAL,CAAeC,GAAf,CAAmB,wBAAnB;AACD,KAFD;AAGAvC,IAAAA,IAAI,CAACd,aAAL,CAAmB,wBAAnB,EAA6CuB,WAA7C,GAA4D,kCAAiCX,KAAM,EAAnG;AACAE,IAAAA,IAAI,CAACd,aAAL,CAAmB,uBAAnB,EAA4CuB,WAA5C,GAA2D,kCAAiCX,KAAM,EAAlG;AACAE,IAAAA,IAAI,CAACd,aAAL,CAAmB,0BAAnB,EAA+CuB,WAA/C,GAA6D,KAA7D;AACD,GAPD;AASD,CAzCD;;;;;;;;UCZA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNA;AACA;AAEA+B,MAAM,CAAClB,gBAAP,CAAwB,kBAAxB,EAA4C,MAAM;AAChDU,EAAAA,uEAAW;AACXzC,EAAAA,6DAAS;AACV,CAHD,E","sources":["webpack://kalkulator-walut--pl/./source/scripts/api.js","webpack://kalkulator-walut--pl/./source/scripts/modules/converter.js","webpack://kalkulator-walut--pl/./source/scripts/modules/show-top-currency.js","webpack://kalkulator-walut--pl/webpack/bootstrap","webpack://kalkulator-walut--pl/webpack/runtime/define property getters","webpack://kalkulator-walut--pl/webpack/runtime/hasOwnProperty shorthand","webpack://kalkulator-walut--pl/webpack/runtime/make namespace object","webpack://kalkulator-walut--pl/./source/scripts/index.js"],"sourcesContent":["const GET_ONE_CURRENCY_SOURCE = 'http://api.nbp.pl/api/exchangerates/rates/';\nconst GET_ALL_CURRENCY_SOURCE = 'http://api.nbp.pl/api/exchangerates/tables/';\nconst BASI_TABLE_CODE = 'c';\n\n// API souerce - http://api.nbp.pl/\n\n// {table} – typ tabeli (A, B, lub C)\n// {code} – trzyliterowy kod waluty (standard ISO 4217)\n\n// format JSON: nagłówek Accept: application/json lub parameter ?format=json\n// format XML: nagłówek Accept: application/xml lub parameter ?format=xml\n\nconst getOneCurrency = (code, table = BASI_TABLE_CODE) => fetch(`${GET_ONE_CURRENCY_SOURCE}${table}/${code}/?format=json`, {\n    Accept: 'application/json'\n  })\n  .then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    throw new Error(`${response.status} ${response.statusText}`);\n});\n\nconst getAllCurrency = (table = BASI_TABLE_CODE) => fetch(`${GET_ALL_CURRENCY_SOURCE}${table}/?format=json`, {\n    Accept: 'application/json'\n  })\n  .then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    throw new Error(`${response.status} ${response.statusText}`);\n});\n\nexport { getOneCurrency, getAllCurrency };\n\n","import { getAllCurrency } from '../api';\n\nconst allConvertItems = document.querySelectorAll('.converter__item');\nconst optionTemplate = document.querySelector('#converter__option');\n\nconst transformCurrencyData = (obj) => {\n  const curItems = obj[0].rates\n  return {...curItems};\n};\n\nconst converter = () => {\n\n  let allCurreny;\n\n  getAllCurrency().then((data) => {\n    showCurrencyItems(transformCurrencyData(data));\n    allCurreny = transformCurrencyData(data);\n  }).catch((err) => {\n    console.error(err);\n  });\n\n  const showCurrencyItems = (data) => {\n    allConvertItems.forEach((item, i) => {\n\n      const fragment = new DocumentFragment();\n\n      for (let key in data) {\n        const templateItem = optionTemplate.content.cloneNode(true);\n        templateItem.querySelector('.converter__option').value = data[key].code;\n        templateItem.querySelector('.converter__option').textContent = data[key].currency;\n        templateItem.querySelector('.converter__option').setAttribute('data-id', key);\n\n        fragment.append(templateItem);\n      }\n\n      item.querySelector('.converter__select').append(fragment);\n\n      checkConvertingValue(item)\n    })\n  };\n\n  let inputValue;\n  let selectValue;\n  let curentValuteObj;\n\n  // EUR/USD = EUR/PLN × PLN/USD\n\n  const currencyCalculation = (currencyName) => {\n\n    console.log(curentValuteObj)\n\n    for (let key in allCurreny) {\n\n      if(allCurreny[key].code === currencyName) {\n\n        console.log(allCurreny[key])\n\n        const result = (inputValue / curentValuteObj.ask) * (allCurreny[key].ask);\n\n        return result;\n      }\n    }\n  };\n\n  const checkConvertingValue = (item) => {\n    item.querySelector('.converter__input').addEventListener('input', (evt) => {\n      inputValue = evt.target.value;\n      selectValue = item.querySelector('.converter__select').value;\n\n      for (let key in allCurreny) {\n        if(allCurreny[key].code === selectValue) {\n          curentValuteObj = allCurreny[key];\n        }\n      }\n\n      setValue();\n    });\n\n    const setValue = () => {\n      allConvertItems.forEach((convertItem) => {\n        if(convertItem === item) {\n          convertItem.querySelector('.converter__input').value = +inputValue;\n        } else {\n          convertItem.querySelector('.converter__input').value = currencyCalculation(convertItem.querySelector('.converter__select').value);\n          currencyCalculation(convertItem.querySelector('.converter__select').value);\n        }\n      });\n    }\n  }\n\n};\n\nexport { converter };\n","import { getOneCurrency } from '../api';\n\nconst allCurrencyItems = document.querySelectorAll('.top-five__item');\n\nconst transformCurrencyData = (obj) => {\n  const buy = obj.rates[0].bid;\n  const sell = obj.rates[0].ask;\n  const code = obj.code;\n  const name = obj.currency;\n  return {buy, sell, code, name};\n};\n\nconst topCurrency = () => {\n\n  allCurrencyItems.forEach((item) => {\n    const currencyName = item.getAttribute('data-currency-name');\n\n    getOneCurrency(currencyName).then((data) => {\n      showTopCurrency(data, item);\n    }).catch((err) => {\n      showCurrencyError(err, item);\n      console.error(err);\n    });\n\n    getOneCurrency(currencyName, 'a').then((data) => {\n      showMidlCurrencyValue(data, item);\n    }).catch((err) => {\n      showCurrencyError(err, item);\n      console.error(err);\n    });\n  });\n\n  const showMidlCurrencyValue = (data, item) => {\n    item.querySelector('.top-five__price--midle').textContent = data.rates[0].mid;\n  }\n\n  const showTopCurrency = (data, item) => {\n    const {sell, buy, code, name} = transformCurrencyData(data)\n    item.querySelector('.top-five__price--sell').textContent = sell;\n    item.querySelector('.top-five__price--buy').textContent = buy;\n    item.querySelector('.top-five__currency-name').textContent = code;\n    item.querySelector('.top-five__name').textContent = name;\n  };\n\n  const showCurrencyError = (error, item) => {\n    item.querySelectorAll('.top-five__price').forEach((item) => {\n      item.classList.add('top-five__price--error');\n    })\n    item.querySelector('.top-five__price--sell').textContent = `błąd pobierania danych - error ${error}`;\n    item.querySelector('.top-five__price--buy').textContent = `błąd pobierania danych - error ${error}`;\n    item.querySelector('.top-five__currency-name').textContent = '---';\n  }\n\n};\n\nexport { topCurrency };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { topCurrency } from './modules/show-top-currency';\nimport { converter } from './modules/converter';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  topCurrency();\n  converter();\n});\n\n"],"names":["GET_ONE_CURRENCY_SOURCE","GET_ALL_CURRENCY_SOURCE","BASI_TABLE_CODE","getOneCurrency","code","table","fetch","Accept","then","response","ok","json","Error","status","statusText","getAllCurrency","allConvertItems","document","querySelectorAll","optionTemplate","querySelector","transformCurrencyData","obj","curItems","rates","converter","allCurreny","data","showCurrencyItems","catch","err","console","error","forEach","item","i","fragment","DocumentFragment","key","templateItem","content","cloneNode","value","textContent","currency","setAttribute","append","checkConvertingValue","inputValue","selectValue","curentValuteObj","currencyCalculation","currencyName","log","result","ask","addEventListener","evt","target","setValue","convertItem","allCurrencyItems","buy","bid","sell","name","topCurrency","getAttribute","showTopCurrency","showCurrencyError","showMidlCurrencyValue","mid","classList","add","window"],"sourceRoot":""}